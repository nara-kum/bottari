<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cart">
	
	<select id="selectCartList" resultType="com.example.vo.CartListVO">
		<![CDATA[
			SELECT	c.cart_no,
					c.product_no,
			        c.quantity,
			        p.title,
			        p.brand,
			        p.itemimg,
			        p.shipping_cost,
			        co.detailoption_no
			FROM cart c
			LEFT JOIN product p ON c.product_no = p.product_no
			LEFT JOIN cart_option co ON c.cart_no = co.cart_no
			WHERE user_no = #{user_no}
		]]>
	</select>
	
	<select id="selectByProductNoList" resultType="com.example.vo.ProductOptionListVO">
		<![CDATA[
			SELECT	po.product_no,
					po.option_no,
			        po.option_name,
			        od.detailoption_no,
			        od.detailoption_name
			FROM product_option po
			LEFT JOIN option_detail od ON po.option_no = od.option_no
			WHERE product_no IN 
			<foreach collection="list" item="productNo" open="(" close=")" separator=",">
				#{productNo}
			</foreach>
		]]>
	</select>
	
</mapper>