<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="product">

 	<!-- 상품 등록 -->
    <insert id="insert" parameterType="com.example.vo.ProductVO">
    	<![CDATA[
	        insert into product
	        values (null, #{category_no}, #{title}, #{price}, #{brand}, #{itemimg},
	         		#{shipping_yn}, #{shipping_cost}, #{zipcode}, #{address}, #{detail_address})
         ]]>
    </insert>


	
	
	<select id="selectOne" parameterType="com.example.vo.ProductVO">
		
		<![CDATA[
		SELECT  p.product_no,
				p.title,
				p.price,
				p.brand,
				p.itemimg,
				p.shipping_yn,
				p.shipping_cost,
				p.zipcode,
				p.address,
				p.detail_adress,
				c.category_no,
				c.category_title,
				di.detailedimage_no,
				di.image_URL,
				di.turn,
				o.option_no,
				o.name,
				do.detailoption_no,
				do.name
		FROM product p
		LEFT JOIN category c ON p.category_no = c.category_no
		LEFT JOIN detailed_image di ON p.product_no = di.product_no
		LEFT JOIN `option` o ON p.product_no = o.product_no
		LEFT JOIN detailOption do ON o.option_no = do.option_no;
		]]>
			
	</select>




</mapper>