<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

	 <!-- 회원가입 -->
    <insert id="insert" parameterType="com.example.vo.UserVO">
    
    	<![CDATA[
				insert into users 
				values(null, #{id},#{name},#{password},#{email},#{phone},#{birth},now())
         ]]>
    </insert>
    
	<!-- user정보 가져오기(세션용) -->
	<select id="selectOneByIdPw" parameterType="com.example.vo.UserVO" resultType="com.example.vo.UserVO">
		<![CDATA[
			select 	user_no,
					name
			from users
			where id = #{id}
			and password = #{password}
		]]>
	</select>    
    
	<!-- no로 user정보 가져오기(회원수정폼) -->
	
	<!--<select id="selectByNo" parameterType="int" resultType="com.example.vo.UserVO">
		<![CDATA[
			select	user_no
				  , id
				  , name
				  , password
				  , email
				  , phone
				  , birth
				  , Join_date
			from users
			where user_no = #{user_no}
		]]>
	</select>    --> 
	
	<!-- 회원정보 수정 -->
<!-- 	<update id="update" parameterType="com.example.vo.UserVO">
		<![CDATA[
			update users
			set password = #{password},
				name = #{name},
			    email = #{email}
			where user_no = #{user_no}
		]]>		
	</update>	 -->
    
	<!-- 아이디 중복 체크 -->
	<select id="userSelectById" parameterType="String" resultType="com.example.vo.UserVO" >
		
		<![CDATA[
	    		select user_no,
	    			   id,
	    			   name,
	    			   password	 
	    		from users 
	    		where id = #{id}
	    ]]>
	</select>
	
	<!-- 로그인 -->
    <select id="selectIdPw" parameterType="com.example.vo.UserVO" resultType="com.example.vo.UserVO">
    
    	<![CDATA[
				select  id,
						pw
				from users
				where name = #{name}
				and password = #{password}
         ]]>
    </select>

</mapper>